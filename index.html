<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <title>RG || Uploader</title>
  <script src="https://cdn.tailwindcss.com/"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&amp;display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #121212;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: #e5e7eb;
    }
    #result a {
      display: inline-block;
      max-width: 100%;
      word-break: break-word;
      overflow-wrap: break-word;
      color: #9ca3af;
      transition: color .3s ease;
    }
    
    #result a:hover {
      color:#f9fafb;
      text-decoration:underline;
    }
    
    #result ::-webkit-scrollbar {
      height: 6px;
    }
    
    #result ::-webkit-scrollbar-thumb {
      background-color: #6b7280;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <header class="shadow-md bg-gradient-to-r from-gray-900 sticky to-gray-900 top-0 via-gray-800 z-50">
    <div class="flex items-center mx-auto px-6 justify-between max-w-7xl py-5">
      <div class="flex items-center space-x-4">
        <img alt="my" class="h-14 rounded-full shadow-lg w-14" height="96" src="https://files.catbox.moe/h6g3ve.png" width="96">
        <h1 class="font-extrabold select-none text-3xl text-white tracking-tight">RG Uploader</h1>
        </div>
        <nav class="font-semibold text-gray-300 hidden md:flex space-x-12 tracking-wide">
          <a class="duration-300 transition hover:text-white" href="#upload">Upload </a>
          <a class="duration-300 transition hover:text-white" href="#docs">Docs </a>
          <a class="duration-300 transition hover:text-white flex gap-2 items-center" href="upload.json" rel="noopener" target="_blank">
            <i class="fas fa-cloud-upload-alt"></i> Endpoint</a>
        </nav>
        <button aria-label="Toggle menu" class="md:hidden focus:outline-none text-gray-300" id="mobileMenuBtn">
          <i class="fas fa-bars fa-lg"></i>
        </button>
      </div>
      <nav class="md:hidden bg-gradient-to-r from-gray-900 hidden px-6 py-6 space-y-5 to-gray-900 via-gray-800" id="mobileMenu">
        <a class="font-semibold text-gray-300 block duration-300 hover:text-white transition" href="#upload">Upload </a>
        <a class="font-semibold text-gray-300 block duration-300 hover:text-white transition" href="#docs">Docs </a>
        <a class="font-semibold text-gray-300 block duration-300 hover:text-white transition flex gap-2 items-center" href="upload.json" rel="noopener" target="_blank">
          <i class="fas fa-cloud-upload-alt"></i> Endpoint</a>
      </nav>
    </header>
    <main class="flex items-center flex-col justify-center flex-grow max-w-3xl mx-auto px-6 py-16 w-full" id="upload">
      <section class="border border-gray-700 w-full bg-gray-900 rounded-3xl shadow-2xl text-gray-100 max-w-md p-8">
        <h2 class="tracking-wide text-center font-extrabold mb-6 select-none text-3xl">Upload Your Files Now</h2>
        <p class="text-gray-400 font-medium tracking-wide text-center mb-8">Upload any file and get a direct link to share.</p>
        <label class="duration-300 transition flex items-center border-2 border-dashed border-gray-600 cursor-pointer flex-col hover:bg-gray-800 hover:border-gray-400 justify-center p-8 rounded-xl" for="fileInput" id="dropZone">
          <img alt="Icon upload file, a stylized cloud with an upward arrow in blue and white colors" class="h-24 mb-4 w-24" height="96" src="https://files.catbox.moe/x8ia59.png" width="96">
          <p class="font-semibold text-gray-400 select-none text-center max-w-xs text-lg" id="dropText">tap to upload</p>
          <input class="w-full absolute cursor-pointer h-full inset-0 opacity-0" id="fileInput" name="file"type="file">
        </label>
        <div class="font-semibold text-gray-300 hidden bg-gray-800 break-words max-h-40 mt-6 overflow-y-auto p-4 rounded-lg shadow-inner text-center text-sm" aria-atomic="true" aria-live="polite" id="result" role="alert">
        </div>
    </section>
  </main>
  <section class="border border-gray-700 w-full bg-gray-900 rounded-3xl shadow-2xl text-gray-100 max-w-5xl mx-auto my-20 p-12" id="docs">
    <h2 class="tracking-wide text-center font-extrabold mb-10 text-4xl">API Docs</h2>
    <p class="text-gray-400 font-medium tracking-wide text-center leading-relaxed max-w-3xl mb-10 mx-auto">Use our file upload endpoint to easily upload various types of files. Once the upload is successful, you will receive a direct URL to access the file.</p>
    <div class="space-y-12">
      <div>
        <h3 class="font-semibold text-gray-400 mb-4 text-2xl">Endpoint</h3>
        <pre class="bg-gray-800 text-sm border border-gray-700 font-mono overflow-x-auto p-6 rounded-md select-text text-gray-300"> POST https://cloudyuu.xydlanlux.biz.id/upload </pre>
      </div>
      <div>
        <h3 class="font-semibold text-gray-400 mb-4 text-2xl">Headers</h3>
        <ul class="text-gray-400 text-lg list-disc list-inside space-y-2">
          <li>
            <code>Content-Type: multipart/form-data</code>
          </li>
        </ul>
      </div>
      <div>
        <h3 class="font-semibold text-gray-400 mb-4 text-2xl">Body Parameters</h3>
        <table class="border border-gray-700 rounded-md border-collapse overflow-hidden text-left w-full">
          <thead class="bg-gray-800 text-gray-300">
            <tr>
              <th class="bg-gray-800 border-b border-gray-500 px-4 py-3 border-r w-1/4">Parameter</th>
              <th class="bg-gray-800 border-b border-gray-500 px-4 py-3 border-r w-1/4">Tipe</th>
              <th class="bg-gray-800 border-b border-gray-500 px-4 py-3 w-2/4">Deskripsi</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="border-b border-gray-500 px-4 py-3 border-r break-words">file</td>
              <td class="border-b border-gray-500 px-4 py-3 border-r break-words">file</td>
              <td class="border-b border-gray-500 px-4 py-3 break-words">Files to be uploaded (max 20MB)</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div>
        <h3 class="font-semibold text-gray-400 mb-4 text-2xl">Response</h3>
        <p class="text-gray-400 mb-4 font-medium tracking-wide">Example response JSON:</p>
        <pre class="bg-gray-800 text-sm border border-gray-700 font-mono overflow-x-auto p-6 rounded-md select-text text-green-400">{  
  "status": "success",  
  "message": "Upload Success!",  
  "url": "https://cloudyuu.xydlanlux.biz.id/file/abc1234.jpg"  
}</pre>
        <pre class="bg-gray-800 text-sm border border-gray-700 font-mono overflow-x-auto p-6 rounded-md select-text mt-8 text-red-500">{  
  "status": "error",  
  "message": "File size exceeds 20MB!"  
}</pre>
        </div>
         <div>
           <h3 class="font-semibold text-gray-400 mb-4 text-2xl">Usage Example (JavaScript)</h3>
           <pre class="bg-gray-800 text-sm border border-gray-700 font-mono overflow-x-auto p-6 rounded-md select-text text-gray-300">const fileInput = document.querySelector('#fileInput');  
const formData = new FormData();  
formData.append('file', fileInput.files[0]);  fetch('https://cloudyuu.xydlanlux.biz.id/upload', {
method: 'POST',
body: formData
})
.then(res => res.json())
.then(data => {
if(data.status === 'success') {
console.log('File URL:', data.url);
} else {
console.error('Error:', data.message);
}
});
</pre>
              </div>
              <div>
            <h3 class="font-semibold text-gray-400 mb-4 text-2xl">Catatan</h3>
            <ul class="text-gray-400 font-medium list-disc list-inside space-y-2 text-lg">
            <li>Maximum file size is 20MB.</li>
            <li>Supports various popular file formats.</li>
            <li>Privacy Guaranteed</li>
          </ul>
        </div>
      </div>
    </section>
<footer class="font-semibold text-gray-400 select-none text-center bg-gradient-to-r from-gray-900 py-8 to-gray-900 tracking-wide via-gray-800">Â© 2025 RG Uploader. All rights reserved.</footer>
<script>
const fileInput = document.getElementById("fileInput");  
const resultBox = document.getElementById("result");  
const dropZone = document.getElementById("dropZone");  
const mobileMenuBtn = document.getElementById("mobileMenuBtn");  
const mobileMenu = document.getElementById("mobileMenu");  // Mobile menu toggle  
mobileMenuBtn.addEventListener("click", () => {  
  mobileMenu.classList.toggle("hidden");  
});  

// Drag & drop support  
dropZone.addEventListener("dragover", (e) => {  
  e.preventDefault();  
  dropZone.classList.add("bg-gray-800", "border-gray-400");  
});  
dropZone.addEventListener("dragleave", (e) => {  
  e.preventDefault();  
  dropZone.classList.remove("bg-gray-800", "border-gray-400");  
});  
dropZone.addEventListener("drop", (e) => {  
  e.preventDefault();  
  dropZone.classList.remove("bg-gray-800", "border-gray-400");  
  if (e.dataTransfer.files.length) {  
    fileInput.files = e.dataTransfer.files;  
    uploadFile(e.dataTransfer.files[0]);  
  }  
});  

fileInput.addEventListener("change", () => {  
  if (fileInput.files.length) {  
    uploadFile(fileInput.files[0]);  
  }  
});  

function uploadFile(file) {  
  resultBox.classList.add("hidden");  
  if (file.size > 20 * 1024 * 1024) {  
    resultBox.innerHTML = `<p class="text-red-500 font-semibold">Ukuran file terlalu besar! Maks 20MB.</p>`;  
    resultBox.classList.remove("hidden");  
    return;  
  }  

  const allowedExtensions = [  
    "jpg",  
    "jpeg",  
    "png",  
    "gif",  
    "bmp",  
    "tif",  
    "tiff",  
    "webp",  
    "heic",  
    "heif",  
    "svg",  
    "ico",  
    "psd",  
    "ai",  
    "raw",  
    "cr2",  
    "nef",  
    "arw",  
    "dng",  
    "mp4",  
    "mkv",  
    "avi",  
    "mov",  
    "flv",  
    "webm",  
    "3gp",  
    "wmv",  
    "mp3",  
    "wav",  
    "m4a",  
    "aac",  
    "flac",  
    "ogg",  
    "wma",  
    "pdf",  
    "doc",  
    "docx",  
    "txt",  
    "xls",  
    "xlsx",  
    "ppt",  
    "pptx",  
    "csv",  
    "zip",  
    "rar",  
    "7z",  
    "apk",  
    "exe",  
    "html",  
    "css",  
    "js",  
    "json",  
    "xml",  
    "sql",  
    "db",  
    "ttf",  
    "otf",  
    "iso",  
  ];  
  const ext = file.name.split(".").pop().toLowerCase();  
  if (!allowedExtensions.includes(ext)) {  
    resultBox.innerHTML = `<p class="text-red-500 font-semibold">Format file tidak didukung!</p>`;  
    resultBox.classList.remove("hidden");  
    return;  
  }  

  const formData = new FormData();  
  formData.append("file", file);  

  resultBox.innerHTML = `<p class="text-gray-400 font-semibold flex items-center justify-center gap-3"><i class="fas fa-spinner fa-spin"></i> Mengunggah...</p>`;  

  fetch("/upload", {
    method: "POST",
    headers: { 'Content-Type': "multipart/form-data" },
    body: JSON.stringify(formData),
})
.then((res) => res.json())
.then((data) => {
  resultBox.classList.remove("hidden");

  if (data.status === "success") {
    resultBox.innerHTML = `
      <p class="text-green-400 font-semibold mb-3 flex items-center justify-center gap-3">
        <i class="fas fa-check-circle"></i> Upload berhasil!
      </p>
      <div class="bg-gray-800 p-4 rounded-md shadow-md break-words border border-gray-700">
        <a href="${data.url}" target="_blank" rel="noopener" class="text-gray-400 underline break-all hover:text-gray-100">${data.url}</a>
      </div>
    `;
  } else {
    resultBox.innerHTML = `
      <p class="text-red-500 font-semibold flex items-center justify-center gap-3">
        <i class="fas fa-exclamation-triangle"></i> ${data.message}
      </p>
    `;
  }
})
.catch(() => {
  resultBox.classList.remove("hidden");
  resultBox.innerHTML = `
    <p class="text-red-500 font-semibold flex items-center justify-center gap-3">
      <i class="fas fa-exclamation-triangle"></i> Terjadi kesalahan saat mengunggah file.
    </p>
  `;
});
}
</script>
</body>
</html>